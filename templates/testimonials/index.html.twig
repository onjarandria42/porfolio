{% block testimonials %}
    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials section light-background">

        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
            <h2>Témoignages</h2>
            <p>Ce que mes clients et collaborateurs disent de moi</p>
        </div><!-- End Section Title -->

        <div class="container" data-aos="fade-up" data-aos-delay="100">

            {% if testimonials|length > 0 %}
                <div class="swiper init-swiper">
                    <script type="application/json" class="swiper-config">
                        {
                            "loop": true,
                            "speed": 600,
                            "autoplay": {
                                "delay": 5000
                            },
                            "slidesPerView": "auto",
                            "pagination": {
                                "el": ".swiper-pagination",
                                "type": "bullets",
                                "clickable": true
                            },
                            "breakpoints": {
                                "320": {
                                    "slidesPerView": 1,
                                    "spaceBetween": 40
                                },
                                "1200": {
                                    "slidesPerView": 3,
                                    "spaceBetween": 1
                                }
                            }
                        }
                    </script>
                    <div class="swiper-wrapper">

                        {% for testimonial in testimonials %}
                            <div class="swiper-slide">
                                <div class="testimonial-item">
                                    <p>
                                        <i class="bi bi-quote quote-icon-left"></i>
                                        <span>{{ testimonial.content }}</span>
                                        <i class="bi bi-quote quote-icon-right"></i>
                                    </p>
                                    {% if testimonial.authorImage %}
                                        <img src="{{ asset('uploads/testimonials/' ~ testimonial.authorImage) }}" class="testimonial-img" alt="{{ testimonial.authorName }}">
                                    {% else %}
                                        <img src="{{ asset('assets/img/testimonials/default-avatar.jpg') }}" class="testimonial-img" alt="{{ testimonial.authorName }}">
                                    {% endif %}
                                    <h3>{{ testimonial.authorName }}</h3>
                                    {% if testimonial.authorRole %}
                                        <h4>{{ testimonial.authorRole }}</h4>
                                    {% endif %}
                                </div>
                            </div><!-- End testimonial item -->
                        {% endfor %}

                    </div>
                    <div class="swiper-pagination"></div>
                </div>
            {% else %}
                <div class="alert alert-info text-center">
                    Aucun témoignage n'a encore été ajouté.
                </div>
            {% endif %}

        </div>

    </section><!-- /Testimonials Section -->
{% endblock %}
