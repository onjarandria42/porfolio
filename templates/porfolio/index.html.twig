{% block porfolio %}
    <!-- Portfolio Section -->
    <section id="portfolio" class="portfolio section light-background">

        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
            <h2>Portfolio</h2>
            <p>Découvrez mes réalisations et projets récents</p>
        </div><!-- End Section Title -->

        <div class="container">

            {% if items|length > 0 %}
                <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">

                    {% if categories|length > 0 %}
                        <ul class="portfolio-filters isotope-filters" data-aos="fade-up" data-aos-delay="100">
                            <li data-filter="*" class="filter-active">Tous</li>
                            {% for category in categories %}
                                <li data-filter=".filter-{{ category.slug|default(category.name|lower|replace({' ': '-'})) }}">{{ category.name }}</li>
                            {% endfor %}
                        </ul><!-- End Portfolio Filters -->
                    {% endif %}

                    <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="200">

                        {% for item in items %}
                            <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-{{ item.category.slug|default(item.category.name|lower|replace({' ': '-'})) }}">
                                <div class="portfolio-content h-100">
                                    <img src="{{ asset('uploads/portfolio/' ~ item.image) }}" class="img-fluid" alt="{{ item.title }}">
                                    <div class="portfolio-info">
                                        <h4>{{ item.title }}</h4>
                                        {% if item.description %}
                                            <p>{{ item.description }}</p>
                                        {% endif %}
                                        <a href="{{ asset('uploads/portfolio/' ~ item.image) }}" 
                                           title="{{ item.title }}" 
                                           data-gallery="portfolio-gallery-{{ item.category.slug|default(item.category.name|lower|replace({' ': '-'})) }}" 
                                           class="glightbox preview-link">
                                            <i class="bi bi-zoom-in"></i>
                                        </a>
                                        {% if item.detailLink %}
                                            <a href="{{ item.detailLink }}" title="Plus de détails" class="details-link">
                                                <i class="bi bi-link-45deg"></i>
                                            </a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div><!-- End Portfolio Item -->
                        {% endfor %}

                    </div><!-- End Portfolio Container -->

                </div>
            {% else %}
                <div class="alert alert-info text-center">
                    Aucun projet n'a encore été ajouté au portfolio.
                </div>
            {% endif %}

        </div>

    </section><!-- /Portfolio Section -->
{% endblock %}
